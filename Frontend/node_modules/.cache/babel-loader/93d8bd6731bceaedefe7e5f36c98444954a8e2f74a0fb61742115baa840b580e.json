{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-49b49cc2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"cart-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Shopping Cart\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Your cart is empty.\", -1 /* HOISTED */));\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = {\n  class: \"item-details\"\n};\nconst _hoisted_8 = {\n  class: \"quantity-control\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"total-amount\"\n};\nconst _hoisted_13 = {\n  key: 2,\n  class: \"modal\"\n};\nconst _hoisted_14 = {\n  class: \"modal-content\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Enter Your Information\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"firstName\"\n}, \"First Name:\", -1 /* HOISTED */));\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"lastName\"\n}, \"Last Name:\", -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"deliveryAddress\"\n}, \"Delivery Address:\", -1 /* HOISTED */));\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Place Order\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, $data.cartItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [..._hoisted_5])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cartItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.menuItem._id,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h4\", null, _toDisplayString(item.menuItem.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Price: $\" + _toDisplayString(item.menuItem.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n      onClick: $event => $options.decreaseQuantity(index)\n    }, \"-\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"span\", null, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.increaseQuantity(index)\n    }, \"+\", 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeItem(index)\n    }, \"Remove\", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h4\", null, \"Total Amount: $\" + _toDisplayString($options.totalAmount.toFixed(2)), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.openModal && $options.openModal(...args))\n  }, \"Place Order\")])), _createCommentVNode(\" Modal \"), $data.showModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.placeOrder && $options.placeOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"firstName\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.firstName = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.firstName]])]), _createElementVNode(\"div\", null, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"lastName\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.lastName = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.lastName]])]), _createElementVNode(\"div\", null, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", null, [_hoisted_19, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"deliveryAddress\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.deliveryAddress = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.deliveryAddress]])]), _hoisted_20, _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, \"Cancel\")], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_4","for","type","_createElementBlock","_hoisted_1","_hoisted_2","$data","cartItems","length","_hoisted_3","_hoisted_5","_hoisted_6","_Fragment","_renderList","item","index","menuItem","_id","_hoisted_7","_toDisplayString","name","price","toFixed","_hoisted_8","onClick","$event","$options","decreaseQuantity","_hoisted_9","quantity","increaseQuantity","_hoisted_10","removeItem","_hoisted_11","_hoisted_12","totalAmount","_cache","args","openModal","_createCommentVNode","showModal","_hoisted_13","_hoisted_14","_hoisted_15","onSubmit","_withModifiers","placeOrder","_hoisted_16","id","firstName","required","_hoisted_17","lastName","_hoisted_18","email","_hoisted_19","deliveryAddress","_hoisted_20","closeModal"],"sources":["/Users/thinhdang/Desktop/Relaxing-koala/Frontend/src/views/CartView.vue"],"sourcesContent":["<template>\n    <div class=\"cart-container\">\n      <h2>Shopping Cart</h2>\n      <div v-if=\"cartItems.length === 0\">\n        <p>Your cart is empty.</p>\n      </div>\n      <div v-else>\n        <div v-for=\"(item, index) in cartItems\" :key=\"item.menuItem._id\" class=\"cart-item\">\n          <div class=\"item-details\">\n            <h4>{{ item.menuItem.name }}</h4>\n            <p>Price: ${{ item.menuItem.price.toFixed(2) }}</p>\n            <div class=\"quantity-control\">\n              <button @click=\"decreaseQuantity(index)\">-</button>\n              <span>{{ item.quantity }}</span>\n              <button @click=\"increaseQuantity(index)\">+</button>\n            </div>\n            <button @click=\"removeItem(index)\">Remove</button>\n          </div>\n        </div>\n        <div class=\"total-amount\">\n          <h4>Total Amount: ${{ totalAmount.toFixed(2) }}</h4>\n        </div>\n        <button @click=\"openModal\">Place Order</button>\n      </div>\n      <!-- Modal -->\n      <div v-if=\"showModal\" class=\"modal\">\n        <div class=\"modal-content\">\n          <h3>Enter Your Information</h3>\n          <form @submit.prevent=\"placeOrder\">\n            <div>\n              <label for=\"firstName\">First Name:</label>\n              <input type=\"text\" id=\"firstName\" v-model=\"firstName\" required>\n            </div>\n            <div>\n              <label for=\"lastName\">Last Name:</label>\n              <input type=\"text\" id=\"lastName\" v-model=\"lastName\" required>\n            </div>\n            <div>\n              <label for=\"email\">Email:</label>\n              <input type=\"email\" id=\"email\" v-model=\"email\" required>\n            </div>\n            <div>\n              <label for=\"deliveryAddress\">Delivery Address:</label>\n              <textarea id=\"deliveryAddress\" v-model=\"deliveryAddress\" required></textarea>\n            </div>\n            <button type=\"submit\">Place Order</button>\n            <button type=\"button\" @click=\"closeModal\">Cancel</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        cartItems: [],\n        showModal: false,\n        firstName: '',\n        lastName: '',\n        email: '',\n        deliveryAddress: '',\n      };\n    },\n    computed: {\n      totalAmount() {\n        return this.cartItems.reduce((total, item) => total + item.menuItem.price * item.quantity, 0);\n      },\n    },\n    mounted() {\n      this.loadCartItems();\n    },\n    methods: {\n      loadCartItems() {\n        this.cartItems = JSON.parse(localStorage.getItem('cart') || '[]');\n      },\n      decreaseQuantity(index) {\n        if (this.cartItems[index].quantity > 1) {\n          this.cartItems[index].quantity--;\n          this.updateCart();\n        }\n      },\n      increaseQuantity(index) {\n        this.cartItems[index].quantity++;\n        this.updateCart();\n      },\n      removeItem(index) {\n        this.cartItems.splice(index, 1);\n        this.updateCart();\n      },\n      updateCart() {\n        localStorage.setItem('cart', JSON.stringify(this.cartItems));\n      },\n      openModal() {\n        this.showModal = true;\n      },\n      closeModal() {\n        this.showModal = false;\n      },\n      async placeOrder() {\n        try {\n          const response = await fetch('http://localhost:3000/api/orders', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n              firstName: this.firstName,\n              lastName: this.lastName,\n              email: this.email,\n              deliveryAddress: this.deliveryAddress,\n              cartItems: this.cartItems,\n            }),\n          });\n          if (response.ok) {\n            // Clear the cart\n            this.cartItems = [];\n            localStorage.removeItem('cart');\n            // Close the modal\n            this.closeModal();\n            // Show success message or redirect to a success page\n            alert('Order placed successfully!');\n          } else {\n            throw new Error('Error placing order');\n          }\n        } catch (error) {\n          console.error('Error placing order:', error);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .cart-container {\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 20px;\n  }\n  .cart-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n    padding: 10px;\n    border: 1px solid #ccc;\n  }\n  .item-details {\n    flex-grow: 1;\n  }\n  .quantity-control {\n    display: flex;\n    align-items: center;\n  }\n  .quantity-control button {\n    margin: 0 5px;\n  }\n  .total-amount {\n    margin-top: 20px;\n    text-align: right;\n  }\n  .modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .modal-content {\n    background-color: white;\n    padding: 20px;\n    border-radius: 5px;\n  }\n  .modal-content form {\n    display: flex;\n    flex-direction: column;\n  }\n  .modal-content form div {\n    margin-bottom: 10px;\n  }\n  .modal-content form label {\n    font-weight: bold;\n  }\n  .modal-content form input,\n  .modal-content form textarea {\n    width: 100%;\n    padding: 5px;\n  }\n  .modal-content form button {\n    margin-top: 10px;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}