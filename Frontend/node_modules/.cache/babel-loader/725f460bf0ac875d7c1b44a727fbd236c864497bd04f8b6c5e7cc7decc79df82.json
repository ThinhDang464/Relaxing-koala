{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"reservation-form container mt-5\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-center mb-4\"\n}, \"Book a Reservation\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"d-flex justify-content-between\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-success\"\n}, \"Create Reservation\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editEmail\",\n  class: \"form-label\"\n}, \"Email:\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"deleteEmail\",\n  class: \"form-label\"\n}, \"Email:\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.submitReservation && $options.submitReservation(...args), [\"prevent\"])),\n    class: \"form-group\"\n  }, [_createCommentVNode(\" Existing form fields \"), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.showEditModal && $options.showEditModal(...args))\n  }, \"Edit Reservation\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-danger\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.showDeleteModal && $options.showDeleteModal(...args))\n  }, \"Delete Reservation\")])], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Edit Reservation Modal \"), _createVNode(_component_b_modal, {\n    modelValue: $data.showEditReservationModal,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.showEditReservationModal = $event),\n    title: \"Edit Reservation\",\n    onOk: $options.editReservation\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      id: \"editEmail\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editEmail = $event),\n      class: \"form-control\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editEmail]])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onOk\"]), _createCommentVNode(\" Delete Reservation Modal \"), _createVNode(_component_b_modal, {\n    modelValue: $data.showDeleteReservationModal,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.showDeleteReservationModal = $event),\n    title: \"Delete Reservation\",\n    onOk: $options.deleteReservation\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      id: \"deleteEmail\",\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.deleteEmail = $event),\n      class: \"form-control\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.deleteEmail]])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onOk\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","for","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitReservation","_createCommentVNode","_hoisted_3","_hoisted_4","onClick","showEditModal","showDeleteModal","_createVNode","_component_b_modal","modelValue","$data","showEditReservationModal","$event","title","onOk","editReservation","default","_withCtx","_hoisted_5","_hoisted_6","id","editEmail","required","_","showDeleteReservationModal","deleteReservation","_hoisted_7","_hoisted_8","deleteEmail"],"sources":["/Users/thinhdang/Desktop/Relaxing-koala/Frontend/src/views/ReservationView.vue"],"sourcesContent":["<template>\n    <div class=\"reservation-form container mt-5\">\n      <h2 class=\"text-center mb-4\">Book a Reservation</h2>\n      <form @submit.prevent=\"submitReservation\" class=\"form-group\">\n        <!-- Existing form fields -->\n        <div class=\"d-flex justify-content-between\">\n          <button type=\"submit\" class=\"btn btn-success\">Create Reservation</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"showEditModal\">Edit Reservation</button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"showDeleteModal\">Delete Reservation</button>\n        </div>\n      </form>\n  \n      <!-- Edit Reservation Modal -->\n      <b-modal v-model=\"showEditReservationModal\" title=\"Edit Reservation\" @ok=\"editReservation\">\n        <div class=\"mb-3\">\n          <label for=\"editEmail\" class=\"form-label\">Email:</label>\n          <input type=\"email\" id=\"editEmail\" v-model=\"editEmail\" class=\"form-control\" required>\n        </div>\n      </b-modal>\n  \n      <!-- Delete Reservation Modal -->\n      <b-modal v-model=\"showDeleteReservationModal\" title=\"Delete Reservation\" @ok=\"deleteReservation\">\n        <div class=\"mb-3\">\n          <label for=\"deleteEmail\" class=\"form-label\">Email:</label>\n          <input type=\"email\" id=\"deleteEmail\" v-model=\"deleteEmail\" class=\"form-control\" required>\n        </div>\n      </b-modal>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        reservation: {\n          date: '',\n          time: '',\n          numberOfPeople: '',\n          specialComments: '',\n        },\n        user: {\n          firstName: '',\n          lastName: '',\n          email: '',\n        },\n        showEditReservationModal: false,\n        showDeleteReservationModal: false,\n        editEmail: '',\n        deleteEmail: '',\n      };\n    },\n    methods: {\n      async submitReservation() {\n        // Existing submitReservation method\n      },\n      resetForm() {\n        // Existing resetForm method\n      },\n      showEditModal() {\n        this.showEditReservationModal = true;\n      },\n      showDeleteModal() {\n        this.showDeleteReservationModal = true;\n      },\n      async editReservation() {\n        try {\n          const response = await fetch(`http://localhost:3000/api/reservations?email=${this.editEmail}`);\n          if (response.ok) {\n            const data = await response.json();\n            if (data.length > 0) {\n              // Populate the form fields with the retrieved reservation data\n              this.reservation = data[0].reservations[0];\n            } else {\n              alert('No reservation found for the provided email.');\n            }\n          } else {\n            throw new Error('Error fetching reservation');\n          }\n        } catch (error) {\n          console.error('Error fetching reservation:', error);\n        } finally {\n          this.showEditReservationModal = false;\n          this.editEmail = '';\n        }\n      },\n      async deleteReservation() {\n        try {\n          const response = await fetch(`http://localhost:3000/api/reservations?email=${this.deleteEmail}`, {\n            method: 'DELETE',\n          });\n          if (response.ok) {\n            alert('Reservation deleted successfully!');\n            this.resetForm();\n          } else {\n            throw new Error('Error deleting reservation');\n          }\n        } catch (error) {\n          console.error('Error deleting reservation:', error);\n        } finally {\n          this.showDeleteReservationModal = false;\n          this.deleteEmail = '';\n        }\n      },\n    },\n  };\n  </script>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}